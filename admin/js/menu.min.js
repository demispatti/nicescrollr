"use strict";(function(b){function a(){this.nsr_menu=Nsr_Menu;this.document=b(document);this.body=b("body");this.html=b("html");this.window=b(window);this.nice=b("#ascrail2000");this.colorpicker=this.initColorPicker(this.colorpicker);this.wrap=b(".form-table td");this.basicSettingsToggle=b("h2.settings-toggle.basic");this.upperPanel=this.basicSettingsToggle.next("table");this.advancedSettingsToggle=b("h2.settings-toggle.advanced");this.lowerPanel=this.advancedSettingsToggle.next("table");this.backtopSettingsToggle=b("h2.settings-toggle.backtop");this.backtopPanel=this.backtopSettingsToggle.next("table");this.resetSettingsToggle=b("h2.settings-toggle.reset");this.resetPanel=this.resetSettingsToggle.next("table")}a.prototype={init:function(){this.wrapTable();this.enableScrollTo();if(this.nsr_menu.locale==="de_DE"){this.localizeCheckboxes()}this.initBasicSettingsPanel();this.initExtendedSettingsPanel();this.initBacktopSettingsPanel();this.initResetSettingsPanel();this.addEvents()},initColorPicker:function(c){c=b(".nsr-color-picker").wpColorPicker();return c},wrapTable:function(){this.wrap.wrapInner('<div class="form-table-td-wrap"></div>')},initBasicSettingsPanel:function(){this.basicSettingsToggle.addClass("nicescrollr_settings_toggle");this.upperPanel.addClass("upper-panel");this.upperPanel.css("display","inline-block").animate({height:"100%"},320)},initExtendedSettingsPanel:function(){this.advancedSettingsToggle.addClass("nicescrollr_settings_toggle");this.lowerPanel.addClass("lower-panel");this.lowerPanel.css("display","none")},initBacktopSettingsPanel:function(){this.backtopSettingsToggle.addClass("nicescrollr_settings_toggle");this.backtopPanel.addClass("backtop-panel");this.backtopPanel.css("display","none")},initResetSettingsPanel:function(){this.resetSettingsToggle.addClass("nicescrollr_settings_toggle");this.resetPanel.addClass("reset-panel");this.resetPanel.css("display","none")},localizeCheckboxes:function(){b('<style>.nsr-switch-label:before{content:"'+this.nsr_menu.Off+'";}</style>').appendTo("head");b('<style>.nsr-switch-label:after{content:"'+this.nsr_menu.On+'";}</style>').appendTo("head")},addEvents:function(){this.basicSettingsToggle.on("click",{context:this},this.basicSettingsToggleOnClick);this.advancedSettingsToggle.on("click",{context:this},this.extendedSettingsToggleOnClick);this.backtopSettingsToggle.on("click",{context:this},this.backtopSettingsToggleOnClick);this.resetSettingsToggle.on("click",{context:this},this.resetSettingsToggleOnClick)},basicSettingsToggleOnClick:function(c){var d=c.data.context;d.upperPanel.slideToggle(320)},extendedSettingsToggleOnClick:function(c){var d=c.data.context;d.lowerPanel.slideToggle(320)},backtopSettingsToggleOnClick:function(c){var d=c.data.context;d.backtopPanel.slideToggle(320)},resetSettingsToggleOnClick:function(c){var d=c.data.context;d.resetPanel.slideToggle(320)},enableScrollTo:function(){this.errorLink=b(".error a");this.errorLink.on("click",{context:this},this.scrollToOnClick)},scrollToOnClick:function(f){f.preventDefault();var h=f.data.context;var c=b(this).attr("href");var g;var d=c;if(c==="#cursorcolor"||c==="#cursorbordercolor"||c==="#background"){var e=b(d);g=e.parent().prev();g.attr("id",b(this).attr("href"));b(this).removeAttr("id");b(this).parent().prev().attr("id",c)}else{g=b(d)}if(b(this).data("index")<h.nsr_menu.basic_options_count){if(h.upperPanel.css("display")==="none"){h.upperPanel.css("display","inline-block")}}if(b(this).data("index")>=h.nsr_menu.basic_options_count&&b(this).data("index")<=h.nsr_menu.basic_options_count){if(h.lowerPanel.css("display")==="none"){h.lowerPanel.css("display","inline-block")}}else{if(h.backtopPanel.css("display")==="none"){h.backtopPanel.css("display","inline-block")}}b("html, body").animate({scrollTop:b(d).offset().top-80},400);g.focus();g.addClass("validation-error-focus");g.on("blur",function(){b(this).removeClass("validation-error-focus")})}};b(document).ready(function(){var c=new a();c.init()})})(jQuery);