!function(k){if(!k.wp.wpColorPicker.prototype._hasAlpha){var c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAAHnlligAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHJJREFUeNpi+P///4EDBxiAGMgCCCAGFB5AADGCRBgYDh48CCRZIJS9vT2QBAggFBkmBiSAogxFBiCAoHogAKIKAlBUYTELAiAmEtABEECk20G6BOmuIl0CIMBQ/IEMkO0myiSSraaaBhZcbkUOs0HuBwDplz5uFJ3Z4gAAAABJRU5ErkJggg==",b='<div class="wp-picker-holder" />',h='<div class="wp-picker-container" />',j='<input type="button" class="button button-small" />',g=void 0!==wpColorPickerL10n.current;if(g){var d='<a tabindex="0" class="wp-color-result" />'}else{d='<button type="button" class="button wp-color-result" aria-expanded="false"><span class="wp-color-result-text"></span></button>';var f="<label></label>",m='<span class="screen-reader-text"></span>'}Color.fn.toString=function(){if(this._alpha<1){return this.toCSS("rgba",this._alpha).replace(/\s+/g,"")}var a=parseInt(this._color,10).toString(16);return this.error?"":(a.length<6&&(a=("00000"+a).substr(-6)),"#"+a)},k.widget("wp.wpColorPicker",k.wp.wpColorPicker,{_hasAlpha:!0,_create:function(){if(k.support.iris){var a=this,e=a.element;if(k.extend(a.options,e.data()),"hue"===a.options.type){return a._createHueOnly()}a.close=k.proxy(a.close,a),a.initialValue=e.val(),e.addClass("wp-color-picker"),g?(e.hide().wrap(h),a.wrap=e.parent(),a.toggler=k(d).insertBefore(e).css({backgroundColor:a.initialValue}).attr("title",wpColorPickerL10n.pick).attr("data-current",wpColorPickerL10n.current),a.pickerContainer=k(b).insertAfter(e),a.button=k(j).addClass("hidden")):(e.parent("label").length||(e.wrap(f),a.wrappingLabelText=k(m).insertBefore(e).text(wpColorPickerL10n.defaultLabel)),a.wrappingLabel=e.parent(),a.wrappingLabel.wrap(h),a.wrap=a.wrappingLabel.parent(),a.toggler=k(d).insertBefore(a.wrappingLabel).css({backgroundColor:a.initialValue}),a.toggler.find(".wp-color-result-text").text(wpColorPickerL10n.pick),a.pickerContainer=k(b).insertAfter(a.wrappingLabel),a.button=k(j)),a.options.defaultColor?(a.button.addClass("wp-picker-default").val(wpColorPickerL10n.defaultString),g||a.button.attr("aria-label",wpColorPickerL10n.defaultAriaLabel)):(a.button.addClass("wp-picker-clear").val(wpColorPickerL10n.clear),g||a.button.attr("aria-label",wpColorPickerL10n.clearAriaLabel)),g?e.wrap('<span class="wp-picker-input-wrap" />').after(a.button):(a.wrappingLabel.wrap('<span class="wp-picker-input-wrap hidden" />').after(a.button),a.inputWrapper=e.closest(".wp-picker-input-wrap")),e.iris({target:a.pickerContainer,hide:a.options.hide,width:a.options.width,mode:a.options.mode,palettes:a.options.palettes,change:function(i,l){a.options.alpha?(a.toggler.css({"background-image":"url("+c+")"}),g?a.toggler.html('<span class="color-alpha" />'):(a.toggler.css({position:"relative"}),0==a.toggler.find("span.color-alpha").length&&a.toggler.append('<span class="color-alpha" />')),a.toggler.find("span.color-alpha").css({width:"30px",height:"24px",position:"absolute",top:0,left:0,"border-top-left-radius":"2px","border-bottom-left-radius":"2px",background:l.color.toString()})):a.toggler.css({backgroundColor:l.color.toString()}),k.isFunction(a.options.change)&&a.options.change.call(this,i,l)}}),e.val(a.initialValue),a._addListeners(),a.options.hide||a.toggler.click()}},_addListeners:function(){var a=this;a.wrap.on("click.wpcolorpicker",function(e){e.stopPropagation()}),a.toggler.click(function(){a.toggler.hasClass("wp-picker-open")?a.close():a.open()}),a.element.on("change",function(e){(""===k(this).val()||a.element.hasClass("iris-error"))&&(a.options.alpha?(g&&a.toggler.removeAttr("style"),a.toggler.find("span.color-alpha").css("backgroundColor","")):a.toggler.css("backgroundColor",""),k.isFunction(a.options.clear)&&a.options.clear.call(this,e))}),a.button.on("click",function(e){k(this).hasClass("wp-picker-clear")?(a.element.val(""),a.options.alpha?(g&&a.toggler.removeAttr("style"),a.toggler.find("span.color-alpha").css("backgroundColor","")):a.toggler.css("backgroundColor",""),k.isFunction(a.options.clear)&&a.options.clear.call(this,e),a.element.trigger("change")):k(this).hasClass("wp-picker-default")&&a.element.val(a.options.defaultColor).change()})}}),k.widget("a8c.iris",k.a8c.iris,{_create:function(){if(this._super(),this.options.alpha=this.element.data("alpha")||!1,this.element.is(":input")||(this.options.alpha=!1),void 0!==this.options.alpha&&this.options.alpha){var v=this,t=v.element,u=k('<div class="iris-strip iris-slider iris-alpha-slider"><div class="iris-slider-offset iris-slider-offset-alpha"></div></div>').appendTo(v.picker.find(".iris-picker-inner")),q={aContainer:u,aSlider:u.find(".iris-slider-offset-alpha")};void 0!==t.data("custom-width")?v.options.customWidth=parseInt(t.data("custom-width"))||0:v.options.customWidth=100,v.options.defaultWidth=t.width(),(v._color._alpha<1||-1!=v._color.toString().indexOf("rgb"))&&t.width(parseInt(v.options.defaultWidth+v.options.customWidth)),k.each(q,function(a,e){v.controls[a]=e}),v.controls.square.css({"margin-right":"0"});var s=v.picker.width()-v.controls.square.width()-20,w=s/6,p=s/2-w;k.each(["aContainer","strip"],function(a,e){v.controls[e].width(p).css({"margin-left":w+"px"})}),v._initControls(),v._change()}},_initControls:function(){if(this._super(),this.options.alpha){var a=this;a.controls.aSlider.slider({orientation:"vertical",min:0,max:100,step:1,value:parseInt(100*a._color._alpha),slide:function(i,e){a._color._alpha=parseFloat(e.value/100),a._change.apply(a,arguments)}})}},_change:function(){this._super();var z=this,o=z.element;if(this.options.alpha){var x=z.controls,y=parseInt(100*z._color._alpha),w=z._color.toRgb(),u=["rgb("+w.r+","+w.g+","+w.b+") 0%","rgba("+w.r+","+w.g+","+w.b+", 0) 100%"],v=z.options.defaultWidth,A=z.options.customWidth,q=z.picker.closest(".wp-picker-container").find(".wp-color-result");x.aContainer.css({background:"linear-gradient(to bottom, "+u.join(", ")+"), url("+c+")"}),q.hasClass("wp-picker-open")&&(x.aSlider.slider("value",y),z._color._alpha<1?(x.strip.attr("style",x.strip.attr("style").replace(/rgba\(([0-9]+,)(\s+)?([0-9]+,)(\s+)?([0-9]+)(,(\s+)?[0-9\.]+)\)/g,"rgb($1$3$5)")),o.width(parseInt(v+A))):o.width(v))}(o.data("reset-alpha")||!1)&&z.picker.find(".iris-palette-container").on("click.palette",".iris-palette",function(){z._color._alpha=1,z.active="external",z._change()}),o.trigger("change")},_addInputListeners:function(a){var i=this,e=function(n){var o=new Color(a.val()),l=a.val();a.removeClass("iris-error"),o.error?""!==l&&a.addClass("iris-error"):o.toString()!==i._color.toString()&&("keyup"===n.type&&l.match(/^[0-9a-fA-F]{3}$/)||i._setOption("color",o.toString()))};a.on("change",e).on("keyup",i._debounce(e,100)),i.options.hide&&a.on("focus",function(){i.show()})}})}}(jQuery),jQuery(document).ready(function(a){a(".color-picker").wpColorPicker()});